get:
  operationId: getChanges
  summary: Get audit logs for an account
  description: >
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Retrieve the audit logs displayed in **Accounts > Audit logs**.
  tags:
    - Logs
  parameters:
    - name: pageSize
      in: query
      required: false
      description: The number of items in the response.
      example: 1000
      schema:
        type: integer
        minimum: 1
        maximum: 1000
        default: 1000
    - name: skip
      in: query
      required: false
      description: The number of items to skip when paging through large result sets.
      example: 100
      schema:
        type: integer
    - name: sort
      in: query
      required: false
      description: >
        The field by which results should be sorted. By default, results are
        sorted in ascending order. To sort them in descending order, prefix the
        field name with `-`.


        **Note:** You may not be able to use all fields for sorting. This is due
        to performance limitations.
      example: name
      schema:
        type: string
    - name: applicationId
      in: query
      description: Filter results by Application ID.
      example: 19
      required: false
      schema:
        type: number
    - name: entityPath
      in: query
      description: >-
        Filter results on a case insensitive matching of the url path of the
        entity
      example: example/url/path
      required: false
      schema:
        type: string
    - in: query
      description: Filter results by user ID.
      example: 34
      required: false
      name: userId
      schema:
        type: integer
    - name: createdBefore
      in: query
      description: >-
        Filter results comparing the parameter value, expected to be an RFC3339
        timestamp string, to the change creation timestamp. You can use any time
        zone setting. Talon.One will convert to UTC internally.
      required: false
      example: '2024-05-29T15:04:05+07:00'
      schema:
        type: string
        format: date-time
    - name: createdAfter
      in: query
      description: >-
        Filter results comparing the parameter value, expected to be an RFC3339
        timestamp string, to the change creation timestamp. You can use any time
        zone setting. Talon.One will convert to UTC internally.
      required: false
      example: '2024-05-29T15:04:05+07:00'
      schema:
        type: string
        format: date-time
    - name: withTotalResultSize
      in: query
      description: >
        When this flag is set, the result includes the total size of the result,
        across all pages. This might decrease performance on large data sets.


        - When `true`: `hasMore` is true when there is a next page.
        `totalResultSize` is always zero.

        - When `false`: `hasMore` is always false. `totalResultSize` contains
        the total number of results for this query.
      example: false
      schema:
        type: boolean
    - name: managementKeyId
      in: query
      description: Filter results that match the given management key ID.
      example: 16
      required: false
      schema:
        type: integer
    - name: includeOld
      in: query
      description: >-
        When this flag is set to false, the state without the change will not be
        returned. The default value is true.
      example: false
      schema:
        type: boolean
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            type: object
            required:
              - data
            properties:
              totalResultSize:
                type: integer
                example: 1
              hasMore:
                type: boolean
              data:
                type: array
                items:
                  allOf:
                    - type: object
                      required:
                        - id
                        - created
                      properties:
                        id:
                          type: integer
                          description: The internal ID of this entity.
                          example: 6
                        created:
                          type: string
                          format: date-time
                          description: The time this entity was created.
                          example: '2020-06-10T09:05:27.993483Z'
                    - type: object
                      required:
                        - userId
                      properties:
                        userId:
                          type: integer
                          description: The ID of the user associated with this entity.
                          example: 388
                    - type: object
                      required:
                        - entity
                      properties:
                        applicationId:
                          type: integer
                          description: ID of application associated with change.
                          example: 359
                        entity:
                          type: string
                          description: API endpoint on which the change was initiated.
                          example: /v1/applications/359/campaigns/6727
                        old:
                          type: object
                          description: Resource before the change occurred.
                          example: {}
                        new:
                          type: object
                          description: Resource after the change occurred.
                          example:
                            applicationId": 359
                            attributes": {}
                            campaignGroups": []
                            created": '2022-07-08T13:04:02.972762328Z'
                            description": ''
                            features":
                              - referrals
                              - loyalty
                            id: 6727
                        managementKeyId:
                          type: integer
                          description: ID of management key used to perform changes.
                          example: 3
