post:
  operationId: createCampaignFromTemplate
  summary: Create campaign from campaign template
  description: >
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Use the campaign template referenced in the request body to create

    a new campaign in one of the connected Applications.


    If the template was created from a campaign with rules referencing [campaign
    collections](https://docs.talon.one/docs/product/campaigns/managing-collections),

    the corresponding collections for the new campaign are created
    automatically.
  tags:
    - Campaign templates
  parameters:
    - name: applicationId
      in: path
      required: true
      description: >-
        The ID of the Application. It is displayed in your Talon.One deployment
        URL.
      example: 42
      schema:
        type: integer
  requestBody:
    content:
      application/json:
        schema:
          type: object
          required:
            - name
            - templateId
          properties:
            name:
              type: string
              title: Campaign Name
              description: A user-facing name for this campaign.
              example: Discount campaign
              minLength: 1
            description:
              type: string
              title: Campaign Description
              description: A detailed description of the campaign.
              example: This template is for discount campaigns.
            templateId:
              type: integer
              description: >-
                The ID of the Campaign Template which will be used in order to
                create the Campaign.
              example: 4
            campaignAttributesOverrides:
              type: object
              description: >-
                Custom Campaign Attributes. If the Campaign Template defines the
                same values, they will be overridden.
            templateParamValues:
              type: array
              description: >-
                Actual values to replace the template placeholder values in the
                Ruleset bindings. Values for all Template Parameters must be
                provided.
              items:
                type: object
                required:
                  - name
                  - expression
                properties:
                  name:
                    type: string
                    description: A descriptive name for the value to be bound.
                    example: my property
                  type:
                    type: string
                    description: |
                      The kind of binding. Possible values are:
                      - `bundle`
                      - `cartItemFilter`
                      - `subledgerBalance`
                      - `templateParameter`
                    example: templateParameter
                  expression:
                    type: array
                    description: >-
                      A Talang expression that will be evaluated and its result
                      attached to the name of the binding.
                    example:
                      - string1
                      - string2
                    items: {}
                  valueType:
                    type: string
                    description: |
                      Can be one of the following:
                      - `string`
                      - `number`
                      - `boolean`
                    example: string
                  minValue:
                    type: number
                    description: The minimum value allowed for this placeholder.
                    example: 0
                  maxValue:
                    type: number
                    description: The maximum value allowed for this placeholder.
                    example: 19.9
                  attributeId:
                    type: integer
                    title: Attribute ID
                    description: Id of the attribute attached to the placeholder.
                    example: 100
                  description:
                    type: string
                    description: >-
                      Describes the placeholder field and value in the template.
                      This description can be used when creating campaigns from
                      this template.
                    example: This is a template parameter of type `number`.
            limitOverrides:
              type: array
              description: >-
                Limits for this Campaign. If the Campaign Template or
                Application define default values for the same limits, they will
                be overridden.
              items:
                type: object
                required:
                  - action
                  - limit
                  - entities
                properties:
                  action:
                    type: string
                    description: >
                      The limitable action to which this limit applies. For
                      example:

                      - `setDiscount`

                      - `setDiscountEffect`

                      - `redeemCoupon`

                      - `createCoupon`
                    example: createCoupon
                  limit:
                    type: number
                    minimum: 0
                    example: 1000
                    description: The value to set for the limit.
                  period:
                    description: The period on which the budget limit recurs.
                    type: string
                    enum:
                      - daily
                      - weekly
                      - monthly
                      - yearly
                    example: yearly
                  entities:
                    type: array
                    description: The entity that this limit applies to.
                    example:
                      - Coupon
                    items:
                      type: string
                      enum:
                        - Coupon
                        - Referral
                        - Profile
                        - Identifier
                        - Store
                        - Session
            campaignGroups:
              type: array
              description: >
                The IDs of the [campaign
                groups](https://docs.talon.one/docs/product/account/account-settings/managing-campaign-groups)
                this campaign belongs to.
              example:
                - 1
                - 3
              items:
                type: integer
            tags:
              type: array
              description: >-
                A list of tags for the campaign. If the campaign template has
                tags, they will be overridden by this list.
              example:
                - summer
              maxItems: 50
              items:
                type: string
                minLength: 1
                maxLength: 50
            evaluationGroupId:
              type: integer
              example: 2
              description: The ID of the campaign evaluation group the campaign belongs to.
            linkedStoreIds:
              type: array
              description: >
                A list of store IDs that are linked to the campaign.


                **Note:** Campaigns with linked store IDs will only be evaluated
                when there is a

                [customer session
                update](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2)

                that references a linked store.
              items:
                type: integer
              example:
                - 1
                - 2
                - 3
    description: body
    required: true
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            type: object
            required:
              - campaign
              - ruleset
            properties:
              campaign:
                allOf:
                  - type: object
                    required:
                      - id
                      - created
                    properties:
                      id:
                        type: integer
                        description: Unique ID for this entity.
                        example: 4
                      created:
                        type: string
                        format: date-time
                        description: The exact moment this entity was created.
                        example: '2020-06-10T09:05:27.993483Z'
                  - type: object
                    required:
                      - applicationId
                    properties:
                      applicationId:
                        type: integer
                        description: The ID of the Application that owns this entity.
                        example: 322
                  - type: object
                    required:
                      - userId
                    properties:
                      userId:
                        type: integer
                        description: The ID of the user associated with this entity.
                        example: 388
                  - type: object
                    properties:
                      name:
                        type: string
                        title: Campaign Name
                        description: A user-facing name for this campaign.
                        minLength: 1
                        example: Summer promotions
                      description:
                        type: string
                        title: Campaign Description
                        description: A detailed description of the campaign.
                        example: Campaign for all summer 2021 promotions
                      startTime:
                        type: string
                        format: date-time
                        description: Timestamp when the campaign will become active.
                        example: '2021-07-20T22:00:00Z'
                      endTime:
                        type: string
                        format: date-time
                        description: Timestamp when the campaign will become inactive.
                        example: '2021-09-22T22:00:00Z'
                      attributes:
                        type: object
                        description: Arbitrary properties associated with this campaign.
                      state:
                        type: string
                        enum:
                          - enabled
                          - disabled
                          - archived
                        default: enabled
                        example: enabled
                        description: >
                          A disabled or archived campaign is not evaluated for
                          rules or coupons.
                      activeRulesetId:
                        type: integer
                        description: >
                          [ID of
                          Ruleset](https://docs.talon.one/management-api#operation/getRulesets)
                          this

                          campaign applies on customer session evaluation.
                        example: 6
                      tags:
                        type: array
                        description: A list of tags for the campaign.
                        example:
                          - summer
                        maxItems: 50
                        items:
                          type: string
                          minLength: 1
                          maxLength: 50
                      features:
                        type: array
                        description: The features enabled in this campaign.
                        example:
                          - coupons
                          - referrals
                        items:
                          type: string
                          enum:
                            - coupons
                            - referrals
                            - loyalty
                            - giveaways
                            - strikethrough
                            - achievements
                      couponSettings:
                        type: object
                        properties:
                          validCharacters:
                            type: array
                            description: >
                              List of characters used to generate the random
                              parts of a code.
                            example:
                              - A
                              - B
                              - C
                              - D
                              - E
                              - F
                              - G
                              - H
                              - I
                              - J
                              - K
                              - L
                              - M
                              - 'N'
                              - O
                              - P
                              - Q
                              - R
                              - S
                              - T
                              - U
                              - V
                              - W
                              - X
                              - 'Y'
                              - Z
                              - '0'
                              - '1'
                              - '2'
                              - '3'
                              - '4'
                              - '5'
                              - '6'
                              - '7'
                              - '8'
                              - '9'
                            items:
                              type: string
                          couponPattern:
                            type: string
                            description: >
                              The pattern used to generate codes, such as coupon
                              codes, referral codes, and loyalty cards. The
                              character `#` is a placeholder and is replaced by
                              a random character from the `validCharacters` set.
                            maxLength: 100
                            minLength: 3
                            pattern: ^[A-Za-z0-9_#-]*$
                            example: SUMMER-####-####
                        additionalProperties: false
                        required:
                          - couponPattern
                          - validCharacters
                      referralSettings:
                        type: object
                        properties:
                          validCharacters:
                            type: array
                            description: >
                              List of characters used to generate the random
                              parts of a code.
                            example:
                              - A
                              - B
                              - C
                              - D
                              - E
                              - F
                              - G
                              - H
                              - I
                              - J
                              - K
                              - L
                              - M
                              - 'N'
                              - O
                              - P
                              - Q
                              - R
                              - S
                              - T
                              - U
                              - V
                              - W
                              - X
                              - 'Y'
                              - Z
                              - '0'
                              - '1'
                              - '2'
                              - '3'
                              - '4'
                              - '5'
                              - '6'
                              - '7'
                              - '8'
                              - '9'
                            items:
                              type: string
                          couponPattern:
                            type: string
                            description: >
                              The pattern used to generate codes, such as coupon
                              codes, referral codes, and loyalty cards. The
                              character `#` is a placeholder and is replaced by
                              a random character from the `validCharacters` set.
                            maxLength: 100
                            minLength: 3
                            pattern: ^[A-Za-z0-9_#-]*$
                            example: SUMMER-####-####
                        additionalProperties: false
                        required:
                          - couponPattern
                          - validCharacters
                      limits:
                        type: array
                        description: >
                          The set of [budget
                          limits](https://docs.talon.one/docs/product/campaigns/settings/managing-campaign-budgets)
                          for this campaign.
                        items:
                          type: object
                          required:
                            - action
                            - limit
                            - entities
                          properties:
                            action:
                              type: string
                              description: >
                                The limitable action to which this limit
                                applies. For example:

                                - `setDiscount`

                                - `setDiscountEffect`

                                - `redeemCoupon`

                                - `createCoupon`
                              example: createCoupon
                            limit:
                              type: number
                              minimum: 0
                              example: 1000
                              description: The value to set for the limit.
                            period:
                              description: The period on which the budget limit recurs.
                              type: string
                              enum:
                                - daily
                                - weekly
                                - monthly
                                - yearly
                              example: yearly
                            entities:
                              type: array
                              description: The entity that this limit applies to.
                              example:
                                - Coupon
                              items:
                                type: string
                                enum:
                                  - Coupon
                                  - Referral
                                  - Profile
                                  - Identifier
                                  - Store
                                  - Session
                      campaignGroups:
                        type: array
                        description: >
                          The IDs of the [campaign
                          groups](https://docs.talon.one/docs/product/account/managing-campaign-groups)
                          this campaign belongs to.
                        example:
                          - 1
                          - 3
                        items:
                          type: integer
                      type:
                        type: string
                        title: Type
                        enum:
                          - cartItem
                          - advanced
                        default: advanced
                        example: advanced
                        description: |
                          The campaign type. Possible type values:
                            - `cartItem`: Type of campaign that can apply effects only to cart items.
                            - `advanced`: Type of campaign that can apply effects to customer sessions and cart items.
                      linkedStoreIds:
                        type: array
                        description: >
                          A list of store IDs that you want to link to the
                          campaign.


                          **Note:** Campaigns with linked store IDs will only be
                          evaluated when there is a

                          [customer session
                          update](https://docs.talon.one/integration-api#tag/Customer-sessions/operation/updateCustomerSessionV2)

                          that references a linked store.
                        items:
                          type: integer
                        example:
                          - 1
                          - 2
                          - 3
                    required:
                      - name
                      - state
                      - tags
                      - limits
                      - features
                  - type: object
                    properties:
                      budgets:
                        type: array
                        items:
                          type: object
                          required:
                            - action
                            - limit
                            - counter
                          properties:
                            action:
                              type: string
                              description: >
                                The limitable action to which this limit
                                applies. For example:

                                - `setDiscount`

                                - `setDiscountEffect`

                                - `redeemCoupon`

                                - `createCoupon`
                              example: createCoupon
                            limit:
                              type: number
                              minimum: 0
                              example: 1000
                              description: The value to set for the limit.
                            counter:
                              type: number
                              minimum: 0
                              example: 42
                              description: >-
                                The number of occurrences of the limited action
                                in the context of the campaign.
                        description: >
                          A list of all the budgets that are defined by this
                          campaign and their usage.


                          **Note:** Budgets that are not defined do not appear
                          in this list and their usage is

                          not counted until they are defined.
                      couponRedemptionCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Number of coupons redeemed in the campaign.
                        example: 163
                      referralRedemptionCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Number of referral codes redeemed in the campaign.
                        example: 3
                      discountCount:
                        type: number
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total amount of discounts redeemed in the campaign.
                        example: 288
                      discountEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of times discounts were redeemed in this
                          campaign.
                        example: 343
                      couponCreationCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of coupons created by rules in this
                          campaign.
                        example: 16
                      customEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of custom effects triggered by rules in
                          this campaign.
                        example: 0
                      referralCreationCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of referrals created by rules in this
                          campaign.
                        example: 8
                      addFreeItemEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of times the [add free item
                          effect](https://docs.talon.one/docs/dev/integration-api/api-effects#addfreeitem)
                          can be triggered in this campaign.
                        example: 0
                      awardedGiveawaysCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of giveaways awarded by rules in this
                          campaign.
                        example: 9
                      createdLoyaltyPointsCount:
                        type: number
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of loyalty points created by rules in
                          this campaign.
                        example: 9
                      createdLoyaltyPointsEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of loyalty point creation effects
                          triggered by rules in this campaign.
                        example: 2
                      redeemedLoyaltyPointsCount:
                        type: number
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of loyalty points redeemed by rules in
                          this campaign.
                        example: 8
                      redeemedLoyaltyPointsEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of loyalty point redemption effects
                          triggered by rules in this campaign.
                        example: 9
                      callApiEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of webhooks triggered by rules in this
                          campaign.
                        example: 0
                      reservecouponEffectCount:
                        type: integer
                        description: >
                          This property is **deprecated**. The count should be
                          available under *budgets* property.

                          Total number of reserve coupon effects triggered by
                          rules in this campaign.
                        example: 9
                      lastActivity:
                        type: string
                        format: date-time
                        example: '2022-11-10T23:00:00Z'
                        description: >-
                          Timestamp of the most recent event received by this
                          campaign.
                      updated:
                        type: string
                        format: date-time
                        example: '2022-10-97T35:00:00Z'
                        description: >
                          Timestamp of the most recent update to the campaign's
                          property. Updates to external entities used in this
                          campaign

                          are **not** registered by this property, such as
                          collection or coupon updates.
                      createdBy:
                        type: string
                        description: >-
                          Name of the user who created this campaign if
                          available.
                        example: John Doe
                      updatedBy:
                        type: string
                        description: >-
                          Name of the user who last updated this campaign if
                          available.
                        example: Jane Doe
                      templateId:
                        type: integer
                        description: >-
                          The ID of the Campaign Template this Campaign was
                          created from.
                        example: 3
                      frontendState:
                        type: string
                        description: The campaign state displayed in the Campaign Manager.
                        enum:
                          - expired
                          - scheduled
                          - running
                          - disabled
                          - archived
                          - staged
                        example: running
                      storesImported:
                        type: boolean
                        description: >-
                          Indicates whether the linked stores were imported via
                          a CSV file.
                        example: true
                      valueMapsIds:
                        type: array
                        description: A list of value map IDs for the campaign.
                        items:
                          type: integer
                        example:
                          - 100
                          - 215
                    required:
                      - state
                      - description
                      - type
                      - frontendState
                      - storesImported
                  - type: object
                    properties:
                      revisionFrontendState:
                        type: string
                        description: >-
                          The campaign revision state displayed in the Campaign
                          Manager.
                        enum:
                          - revised
                          - pending
                        example: revised
                      activeRevisionId:
                        type: integer
                        description: >
                          ID of the revision that was last activated on this
                          campaign.
                        example: 6
                      activeRevisionVersionId:
                        type: integer
                        description: >
                          ID of the revision version that is active on the
                          campaign.
                        example: 6
                      version:
                        type: integer
                        description: >
                          Incrementing number representing how many revisions
                          have been activated on this campaign, starts from 0
                          for a new campaign.
                        example: 6
                      currentRevisionId:
                        type: integer
                        description: >
                          ID of the revision currently being modified for the
                          campaign.
                        example: 6
                      currentRevisionVersionId:
                        type: integer
                        description: >
                          ID of the latest version applied on the current
                          revision.
                        example: 6
                      stageRevision:
                        type: boolean
                        description: >
                          Flag for determining whether we use current revision
                          when sending requests with staging API key.
                        example: false
                        default: false
              ruleset:
                allOf:
                  - type: object
                    required:
                      - id
                      - created
                    properties:
                      id:
                        type: integer
                        description: The internal ID of this entity.
                        example: 6
                      created:
                        type: string
                        format: date-time
                        description: The time this entity was created.
                        example: '2020-06-10T09:05:27.993483Z'
                  - type: object
                    required:
                      - userId
                    properties:
                      userId:
                        type: integer
                        description: The ID of the user associated with this entity.
                        example: 388
                  - type: object
                    required:
                      - rules
                      - bindings
                    properties:
                      rules:
                        type: array
                        description: Set of rules to apply.
                        items:
                          type: object
                          required:
                            - title
                            - condition
                            - effects
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: A unique identifier for the rule.
                              example: 7fa800a8-ac8d-4792-85dc-c4650dcc8f23
                            parentId:
                              type: string
                              format: uuid
                              description: >-
                                The ID of the rule that was copied to create
                                this rule.
                              example: 7fa800a8-ac8d-4792-85dc-c4650dcc8f23
                            title:
                              type: string
                              description: A short description of the rule.
                              example: Give discount via coupon
                            description:
                              type: string
                              description: A longer, more detailed description of the rule.
                              example: Creates a discount when a coupon is valid
                            bindings:
                              type: array
                              description: >-
                                An array that provides objects with variable
                                names (name) and talang expressions to whose
                                result they are bound (expression) during rule
                                evaluation. The order of the evaluation is
                                decided by the position in the array.
                              items:
                                type: object
                                required:
                                  - name
                                  - expression
                                properties:
                                  name:
                                    type: string
                                    description: >-
                                      A descriptive name for the value to be
                                      bound.
                                    example: my property
                                  type:
                                    type: string
                                    description: |
                                      The kind of binding. Possible values are:
                                      - `bundle`
                                      - `cartItemFilter`
                                      - `subledgerBalance`
                                      - `templateParameter`
                                    example: templateParameter
                                  expression:
                                    type: array
                                    description: >-
                                      A Talang expression that will be evaluated
                                      and its result attached to the name of the
                                      binding.
                                    example:
                                      - string1
                                      - string2
                                    items: {}
                                  valueType:
                                    type: string
                                    description: |
                                      Can be one of the following:
                                      - `string`
                                      - `number`
                                      - `boolean`
                                    example: string
                                  minValue:
                                    type: number
                                    description: >-
                                      The minimum value allowed for this
                                      placeholder.
                                    example: 0
                                  maxValue:
                                    type: number
                                    description: >-
                                      The maximum value allowed for this
                                      placeholder.
                                    example: 19.9
                                  attributeId:
                                    type: integer
                                    title: Attribute ID
                                    description: >-
                                      Id of the attribute attached to the
                                      placeholder.
                                    example: 100
                                  description:
                                    type: string
                                    description: >-
                                      Describes the placeholder field and value
                                      in the template. This description can be
                                      used when creating campaigns from this
                                      template.
                                    example: >-
                                      This is a template parameter of type
                                      `number`.
                            condition:
                              type: array
                              description: >-
                                A Talang expression that will be evaluated in
                                the context of the given event.
                              minItems: 1
                              example:
                                - and
                                - - couponValid
                              items: {}
                            effects:
                              type: array
                              description: >-
                                An array of effectful Talang expressions in
                                arrays that will be evaluated when a rule
                                matches.
                              items:
                                type: array
                                items: {}
                              example:
                                - catch
                                - - noop
                                - - setDiscount
                                  - 10% off
                                  - - '*'
                                    - - .
                                      - Session
                                      - Total
                                    - - /
                                      - 10
                                      - 100
                      strikethroughRules:
                        type: array
                        description: Set of rules to apply for strikethrough.
                        items:
                          type: object
                          required:
                            - title
                            - condition
                            - effects
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: A unique identifier for the rule.
                              example: 7fa800a8-ac8d-4792-85dc-c4650dcc8f23
                            parentId:
                              type: string
                              format: uuid
                              description: >-
                                The ID of the rule that was copied to create
                                this rule.
                              example: 7fa800a8-ac8d-4792-85dc-c4650dcc8f23
                            title:
                              type: string
                              description: A short description of the rule.
                              example: Give discount via coupon
                            description:
                              type: string
                              description: A longer, more detailed description of the rule.
                              example: Creates a discount when a coupon is valid
                            bindings:
                              type: array
                              description: >-
                                An array that provides objects with variable
                                names (name) and talang expressions to whose
                                result they are bound (expression) during rule
                                evaluation. The order of the evaluation is
                                decided by the position in the array.
                              items:
                                type: object
                                required:
                                  - name
                                  - expression
                                properties:
                                  name:
                                    type: string
                                    description: >-
                                      A descriptive name for the value to be
                                      bound.
                                    example: my property
                                  type:
                                    type: string
                                    description: |
                                      The kind of binding. Possible values are:
                                      - `bundle`
                                      - `cartItemFilter`
                                      - `subledgerBalance`
                                      - `templateParameter`
                                    example: templateParameter
                                  expression:
                                    type: array
                                    description: >-
                                      A Talang expression that will be evaluated
                                      and its result attached to the name of the
                                      binding.
                                    example:
                                      - string1
                                      - string2
                                    items: {}
                                  valueType:
                                    type: string
                                    description: |
                                      Can be one of the following:
                                      - `string`
                                      - `number`
                                      - `boolean`
                                    example: string
                                  minValue:
                                    type: number
                                    description: >-
                                      The minimum value allowed for this
                                      placeholder.
                                    example: 0
                                  maxValue:
                                    type: number
                                    description: >-
                                      The maximum value allowed for this
                                      placeholder.
                                    example: 19.9
                                  attributeId:
                                    type: integer
                                    title: Attribute ID
                                    description: >-
                                      Id of the attribute attached to the
                                      placeholder.
                                    example: 100
                                  description:
                                    type: string
                                    description: >-
                                      Describes the placeholder field and value
                                      in the template. This description can be
                                      used when creating campaigns from this
                                      template.
                                    example: >-
                                      This is a template parameter of type
                                      `number`.
                            condition:
                              type: array
                              description: >-
                                A Talang expression that will be evaluated in
                                the context of the given event.
                              minItems: 1
                              example:
                                - and
                                - - couponValid
                              items: {}
                            effects:
                              type: array
                              description: >-
                                An array of effectful Talang expressions in
                                arrays that will be evaluated when a rule
                                matches.
                              items:
                                type: array
                                items: {}
                              example:
                                - catch
                                - - noop
                                - - setDiscount
                                  - 10% off
                                  - - '*'
                                    - - .
                                      - Session
                                      - Total
                                    - - /
                                      - 10
                                      - 100
                      bindings:
                        type: array
                        description: >-
                          An array that provides objects with variable names
                          (name) and talang expressions to whose result they are
                          bound (expression) during rule evaluation. The order
                          of the evaluation is decided by the position in the
                          array.
                        items:
                          type: object
                          required:
                            - name
                            - expression
                          properties:
                            name:
                              type: string
                              description: A descriptive name for the value to be bound.
                              example: my property
                            type:
                              type: string
                              description: |
                                The kind of binding. Possible values are:
                                - `bundle`
                                - `cartItemFilter`
                                - `subledgerBalance`
                                - `templateParameter`
                              example: templateParameter
                            expression:
                              type: array
                              description: >-
                                A Talang expression that will be evaluated and
                                its result attached to the name of the binding.
                              example:
                                - string1
                                - string2
                              items: {}
                            valueType:
                              type: string
                              description: |
                                Can be one of the following:
                                - `string`
                                - `number`
                                - `boolean`
                              example: string
                            minValue:
                              type: number
                              description: The minimum value allowed for this placeholder.
                              example: 0
                            maxValue:
                              type: number
                              description: The maximum value allowed for this placeholder.
                              example: 19.9
                            attributeId:
                              type: integer
                              title: Attribute ID
                              description: Id of the attribute attached to the placeholder.
                              example: 100
                            description:
                              type: string
                              description: >-
                                Describes the placeholder field and value in the
                                template. This description can be used when
                                creating campaigns from this template.
                              example: This is a template parameter of type `number`.
                        example: []
                      rbVersion:
                        type: string
                        description: >-
                          The version of the rulebuilder used to create this
                          ruleset.
                        example: v2
                      activate:
                        type: boolean
                        description: >-
                          Indicates whether this created ruleset should be
                          activated for the campaign that owns it.
                        example: true
                  - type: object
                    properties:
                      campaignId:
                        type: integer
                        title: Campaign ID
                        description: The ID of the campaign that owns this entity.
                        example: 320
                      templateId:
                        type: integer
                        title: Campaign Template ID
                        description: The ID of the campaign template that owns this entity.
                        example: 3
                      activatedAt:
                        type: string
                        format: date-time
                        description: Timestamp indicating when this Ruleset was activated.
              collections:
                type: array
                items:
                  allOf:
                    - allOf:
                        - type: object
                          required:
                            - id
                            - created
                          properties:
                            id:
                              type: integer
                              description: The internal ID of this entity.
                              example: 6
                            created:
                              type: string
                              format: date-time
                              description: The time this entity was created.
                              example: '2020-06-10T09:05:27.993483Z'
                        - type: object
                          required:
                            - accountId
                          properties:
                            accountId:
                              type: integer
                              description: The ID of the account that owns this entity.
                              example: 3886
                        - type: object
                          required:
                            - modified
                          properties:
                            modified:
                              type: string
                              format: date-time
                              description: The time this entity was last modified.
                              example: '2021-09-12T10:12:42Z'
                        - allOf:
                            - type: object
                              properties:
                                description:
                                  type: string
                                  description: >-
                                    A short description of the purpose of this
                                    collection.
                                  example: My collection of SKUs
                                subscribedApplicationsIds:
                                  type: array
                                  description: >-
                                    A list of the IDs of the Applications where
                                    this collection is enabled.
                                  example:
                                    - 1
                                    - 2
                                    - 3
                                  items:
                                    type: integer
                            - type: object
                              required:
                                - name
                              properties:
                                name:
                                  type: string
                                  minLength: 1
                                  pattern: ^[^[:cntrl:]\s][^[:cntrl:]]*$
                                  description: The name of this collection.
                                  example: My collection
                        - type: object
                          required:
                            - createdBy
                          properties:
                            modifiedBy:
                              type: integer
                              description: >-
                                ID of the user who last updated this effect if
                                available.
                              example: 48
                            createdBy:
                              type: integer
                              description: ID of the user who created this effect.
                              example: 134
                            applicationId:
                              type: integer
                              description: The ID of the Application that owns this entity.
                              example: 1
                            campaignId:
                              type: integer
                              description: The ID of the campaign that owns this entity.
                              example: 7
                    - type: object
                      properties:
                        payload:
                          type: array
                          description: The content of the collection.
                          maxItems: 50
                          example:
                            - KTL-WH-ET-1
                            - KTL-BL-ET-1
                          items:
                            type: string
