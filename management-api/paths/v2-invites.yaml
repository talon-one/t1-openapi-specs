# path: /v2/invites
post:
  operationId: createInviteV2
  summary: Invite user
  description: >
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Create a new user in the account and send an invitation to their email
    address.


    **Note**: The invitation token is valid for 24 hours after the email has
    been sent. You can resend an invitation to a user with the [Resend
    invitation
    email](https://docs.talon.one/management-api#tag/Accounts-and-users/operation/createInviteEmail)
    endpoint.
  tags:
    - Accounts and users
  requestBody:
    content:
      application/json:
        schema:
          type: object
          description: Parameters for inviting a new user.
          required:
            - email
          properties:
            name:
              type: string
              description: Name of the user.
              example: John Doe
            email:
              type: string
              format: email
              description: Email address of the user.
              example: john.doe@example.com
            isAdmin:
              type: boolean
              description: Indicates whether the user is an `admin`.
              example: false
            roles:
              type: array
              description: A list of the IDs of the roles assigned to the user.
              items:
                type: integer
                example: 13
            acl:
              type: string
              description: Indicates the access level of the user.
    description: body
    required: true
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            allOf:
              - type: object
                required:
                  - id
                  - created
                properties:
                  id:
                    type: integer
                    description: The internal ID of this entity.
                    example: 6
                  created:
                    type: string
                    format: date-time
                    description: The time this entity was created.
                    example: '2020-06-10T09:05:27.993483Z'
              - type: object
                required:
                  - modified
                properties:
                  modified:
                    type: string
                    format: date-time
                    description: The time this entity was last modified.
                    example: '2021-09-12T10:12:42Z'
              - type: object
                required:
                  - email
                properties:
                  email:
                    type: string
                    format: email
                    example: john.doe@example.com
                    description: The email address associated with the user profile.
              - type: object
                required:
                  - accountId
                properties:
                  accountId:
                    type: integer
                    description: The ID of the account that owns this entity.
                    example: 3886
              - type: object
                required:
                  - inviteToken
                  - state
                  - name
                  - policy
                properties:
                  name:
                    type: string
                    description: Name of the user.
                    example: John Doe
                  state:
                    type: string
                    enum:
                      - invited
                      - active
                      - deactivated
                    description: State of the user.
                    example: invited
                  inviteToken:
                    type: string
                    description: >
                      Invitation token of the user.


                      **Note**: If the user has already accepted their
                      invitation, this is `null`.
                    example: Gy9b8w1irmQtEPo5RmbMmSPheL5h4
                  isAdmin:
                    type: boolean
                    description: Indicates whether the user is an `admin`.
                    example: false
                  policy:
                    type: object
                    format: acl
                    description: Access level of the user.
                    example:
                      Role: 127
                      Applications: null
                  roles:
                    type: array
                    description: A list of the IDs of the roles assigned to the user.
                    example:
                      - 71
                    items:
                      type: integer
                  authMethod:
                    type: string
                    description: Authentication method for this user.
                    example: basic_auth
                  applicationNotificationSubscriptions:
                    type: object
                    description: Application notifications that the user is subscribed to.
                    example: {}
                  lastSignedIn:
                    type: string
                    format: date-time
                    description: Timestamp when the user last signed in to Talon.One.
                    example: '2021-09-12T10:12:42Z'
                  lastAccessed:
                    type: string
                    format: date-time
                    description: >-
                      Timestamp of the user's last activity after signing in to
                      Talon.One.
                    example: '2021-09-12T10:14:42Z'
                  latestFeedTimestamp:
                    type: string
                    format: date-time
                    description: Timestamp when the user was notified for feed.
                    example: '2020-06-01T00:00:00Z'
                  additionalAttributes:
                    type: object
                    description: >-
                      Additional user attributes, created and used by external
                      identity providers.
                    example: {}
