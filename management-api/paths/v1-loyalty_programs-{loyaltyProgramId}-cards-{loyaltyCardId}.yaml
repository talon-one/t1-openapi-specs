# path: /v1/loyalty_programs/{loyaltyProgramId}/cards/{loyaltyCardId}
delete:
  operationId: deleteLoyaltyCard
  summary: Delete loyalty card
  description: >-
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Delete the given loyalty card.
  tags:
    - Loyalty cards
  parameters:
    - name: loyaltyProgramId
      in: path
      description: >
        Identifier of the card-based loyalty program containing the loyalty
        card. You can get the ID with

        the [List loyalty
        programs](https://docs.talon.one/management-api#tag/Loyalty/operation/getLoyaltyPrograms)
        endpoint.
      example: 33
      required: true
      schema:
        type: integer
    - name: loyaltyCardId
      in: path
      description: >
        Identifier of the loyalty card. You can get the identifier with

        the [List loyalty
        cards](https://docs.talon.one/management-api#tag/Loyalty-cards/operation/getLoyaltyCards)
        endpoint.
      example: summer-loyalty-card-0543
      required: true
      schema:
        type: string
        maxLength: 108
  responses:
    '204':
      description: No Content
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '404':
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
put:
  operationId: updateLoyaltyCard
  summary: Update loyalty card status
  description: >-
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Update the status of the given loyalty card. A card can be _active_ or
    _inactive_.
  tags:
    - Loyalty cards
  parameters:
    - name: loyaltyProgramId
      in: path
      description: >
        Identifier of the card-based loyalty program containing the loyalty
        card. You can get the ID with

        the [List loyalty
        programs](https://docs.talon.one/management-api#tag/Loyalty/operation/getLoyaltyPrograms)
        endpoint.
      example: 33
      required: true
      schema:
        type: integer
    - name: loyaltyCardId
      in: path
      description: >
        Identifier of the loyalty card. You can get the identifier with

        the [List loyalty
        cards](https://docs.talon.one/management-api#tag/Loyalty-cards/operation/getLoyaltyCards)
        endpoint.
      example: summer-loyalty-card-0543
      required: true
      schema:
        type: string
        maxLength: 108
  requestBody:
    content:
      application/json:
        schema:
          type: object
          required:
            - status
          properties:
            status:
              type: string
              description: |
                Status of the loyalty card. Can be `active` or `inactive`.
              example: active
            blockReason:
              type: string
              description: |
                Reason for transferring and blocking the loyalty card.
              example: Current card lost. Customer needs a new card.
    description: body
    required: true
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            allOf:
              - type: object
                required:
                  - id
                  - created
                properties:
                  id:
                    type: integer
                    description: The internal ID of this entity.
                    example: 6
                  created:
                    type: string
                    format: date-time
                    description: The time this entity was created.
                    example: '2020-06-10T09:05:27.993483Z'
              - type: object
                required:
                  - programID
                properties:
                  programID:
                    type: integer
                    description: The ID of the loyalty program that owns this entity.
                    example: 125
                  programName:
                    type: string
                    description: >-
                      The integration name of the loyalty program that owns this
                      entity.
                    example: Loyalty_program
                  programTitle:
                    type: string
                    description: >-
                      The Campaign Manager-displayed name of the loyalty program
                      that owns this entity.
                    example: Loyalty program
              - type: object
                required:
                  - status
                properties:
                  status:
                    type: string
                    description: |
                      Status of the loyalty card. Can be `active` or `inactive`.
                    example: active
                  blockReason:
                    type: string
                    description: |
                      Reason for transferring and blocking the loyalty card.
                    example: Current card lost. Customer needs a new card.
              - type: object
                required:
                  - identifier
                  - usersPerCardLimit
                properties:
                  identifier:
                    type: string
                    description: |
                      The alphanumeric identifier of the loyalty card.
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                    example: summer-loyalty-card-0543
                  usersPerCardLimit:
                    type: integer
                    minimum: 0
                    example: 111
                    description: >
                      The max amount of customer profiles that can be linked to
                      the card. 0 means unlimited.
                  profiles:
                    type: array
                    description: >-
                      Integration IDs of the customers profiles linked to the
                      card.
                    items:
                      type: object
                      required:
                        - integrationId
                        - timestamp
                      properties:
                        integrationId:
                          type: string
                          maxLength: 1000
                          description: >-
                            Integration ID of the customer profile linked to the
                            card.
                          example: R195412
                        timestamp:
                          type: string
                          format: date-time
                          description: >-
                            Timestamp the customer profile was linked to the
                            card.
                          example: '2021-09-12T10:12:42Z'
                  ledger:
                    description: >-
                      Displays point balances of the card in the main ledger of
                      the loyalty program.
                    allOf:
                      - type: object
                        required:
                          - currentBalance
                          - pendingBalance
                          - expiredBalance
                          - spentBalance
                          - tentativeCurrentBalance
                        description: The balance in a Loyalty Program for some Customer.
                        properties:
                          currentBalance:
                            type: number
                            title: Current balance
                            description: Sum of currently active points.
                            example: 100
                          pendingBalance:
                            type: number
                            title: Pending balance
                            description: Sum of pending points.
                            example: 10
                          negativeBalance:
                            type: number
                            title: Negative balance
                            description: >-
                              Sum of negative points. This implies that
                              `currentBalance` is `0`.
                            example: 10
                          expiredBalance:
                            type: number
                            title: Expired balance
                            description: |
                              **DEPRECATED** Value is shown as 0.
                            example: 0
                          spentBalance:
                            type: number
                            title: Spent balance
                            description: |
                              **DEPRECATED** Value is shown as 0.
                            example: 0
                          tentativeCurrentBalance:
                            type: number
                            title: Tentative current balance
                            description: >
                              The tentative points balance, reflecting the
                              `currentBalance` and all point additions and
                              deductions within the current open customer
                              session. When the session is closed, the effects
                              are applied and the `currentBalance` is updated to
                              this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 100
                          tentativePendingBalance:
                            type: number
                            title: Tentative pending balance
                            description: >
                              The tentative points balance, reflecting the
                              `pendingBalance` and all point additions with a
                              future activation date within the current open
                              customer session. When the session is closed, the
                              effects are applied and the `pendingBalance` is
                              updated to this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 20
                          tentativeNegativeBalance:
                            type: number
                            title: Tentative negative balance
                            description: >
                              The tentative negative balance after all additions
                              and deductions from the current customer session
                              are applied to `negativeBalance`. When the session
                              is closed, the tentative effects are applied and
                              `negativeBalance` is updated to this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 100
                      - type: object
                        properties:
                          currentTier:
                            description: Tier for which the ledger is eligible.
                            example: bronze
                            type: object
                            required:
                              - id
                              - name
                            properties:
                              id:
                                type: integer
                                description: The internal ID of the tier.
                                example: 11
                              name:
                                type: string
                                description: The name of the tier.
                                example: bronze
                              startDate:
                                type: string
                                format: date-time
                                description: >-
                                  Date and time when the customer moved to this
                                  tier. This value uses the loyalty program's
                                  time zone setting.
                                example: 2021-05-03T12:32:00Z07:00
                              expiryDate:
                                type: string
                                format: date-time
                                description: >-
                                  Date when tier level expires in the RFC3339
                                  format (in the Loyalty Program's timezone).
                                example: 2022-08-02T15:04:05Z07:00
                              downgradePolicy:
                                type: string
                                enum:
                                  - one_down
                                  - balance_based
                                description: >
                                  The policy that defines how customer tiers are
                                  downgraded in the loyalty program after tier
                                  reevaluation.
                                   - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
                                   - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
                          pointsToNextTier:
                            type: number
                            description: Points required to move up a tier.
                            example: 20
                  subledgers:
                    type: object
                    description: >-
                      Displays point balances of the card in the subledgers of
                      the loyalty program.
                    additionalProperties:
                      allOf:
                        - type: object
                          required:
                            - currentBalance
                            - pendingBalance
                            - expiredBalance
                            - spentBalance
                            - tentativeCurrentBalance
                          description: The balance in a Loyalty Program for some Customer.
                          properties:
                            currentBalance:
                              type: number
                              title: Current balance
                              description: Sum of currently active points.
                              example: 100
                            pendingBalance:
                              type: number
                              title: Pending balance
                              description: Sum of pending points.
                              example: 10
                            negativeBalance:
                              type: number
                              title: Negative balance
                              description: >-
                                Sum of negative points. This implies that
                                `currentBalance` is `0`.
                              example: 10
                            expiredBalance:
                              type: number
                              title: Expired balance
                              description: |
                                **DEPRECATED** Value is shown as 0.
                              example: 0
                            spentBalance:
                              type: number
                              title: Spent balance
                              description: |
                                **DEPRECATED** Value is shown as 0.
                              example: 0
                            tentativeCurrentBalance:
                              type: number
                              title: Tentative current balance
                              description: >
                                The tentative points balance, reflecting the
                                `currentBalance` and all point additions and
                                deductions within the current open customer
                                session. When the session is closed, the effects
                                are applied and the `currentBalance` is updated
                                to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 100
                            tentativePendingBalance:
                              type: number
                              title: Tentative pending balance
                              description: >
                                The tentative points balance, reflecting the
                                `pendingBalance` and all point additions with a
                                future activation date within the current open
                                customer session. When the session is closed,
                                the effects are applied and the `pendingBalance`
                                is updated to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 20
                            tentativeNegativeBalance:
                              type: number
                              title: Tentative negative balance
                              description: >
                                The tentative negative balance after all
                                additions and deductions from the current
                                customer session are applied to
                                `negativeBalance`. When the session is closed,
                                the tentative effects are applied and
                                `negativeBalance` is updated to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 100
                        - type: object
                          properties:
                            currentTier:
                              description: Tier for which the ledger is eligible.
                              example: bronze
                              type: object
                              required:
                                - id
                                - name
                              properties:
                                id:
                                  type: integer
                                  description: The internal ID of the tier.
                                  example: 11
                                name:
                                  type: string
                                  description: The name of the tier.
                                  example: bronze
                                startDate:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Date and time when the customer moved to
                                    this tier. This value uses the loyalty
                                    program's time zone setting.
                                  example: 2021-05-03T12:32:00Z07:00
                                expiryDate:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Date when tier level expires in the RFC3339
                                    format (in the Loyalty Program's timezone).
                                  example: 2022-08-02T15:04:05Z07:00
                                downgradePolicy:
                                  type: string
                                  enum:
                                    - one_down
                                    - balance_based
                                  description: >
                                    The policy that defines how customer tiers
                                    are downgraded in the loyalty program after
                                    tier reevaluation.
                                     - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
                                     - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
                            pointsToNextTier:
                              type: number
                              description: Points required to move up a tier.
                              example: 20
                  modified:
                    type: string
                    format: date-time
                    description: Timestamp of the most recent update of the loyalty card.
                    example: '2021-09-12T10:12:42Z'
                  oldCardIdentifier:
                    description: >-
                      The identifier of the card from which the points were
                      transferred.
                    example: summer-loyalty-card-0543
                    type: string
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                  newCardIdentifier:
                    description: >-
                      The identifier of the card to which the points were
                      transferred.
                    example: autumn-loyalty-card-5822
                    type: string
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                  batchId:
                    description: The ID of the batch in which the loyalty card was created.
                    type: string
                    example: wdefpov
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '404':
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
get:
  operationId: getLoyaltyCard
  summary: Get loyalty card
  description: >-
    <div class="redoc-warning small">Management API endpoints are <b>not</b>
    meant to be used in real-time integrations that directly serve your end
    users. Rate limit: 3 requests per second.</div>


    Get the given loyalty card.
  tags:
    - Loyalty cards
  parameters:
    - name: loyaltyProgramId
      in: path
      description: >
        Identifier of the card-based loyalty program containing the loyalty
        card. You can get the ID with

        the [List loyalty
        programs](https://docs.talon.one/management-api#tag/Loyalty/operation/getLoyaltyPrograms)
        endpoint.
      example: 33
      required: true
      schema:
        type: integer
    - name: loyaltyCardId
      in: path
      description: >
        Identifier of the loyalty card. You can get the identifier with

        the [List loyalty
        cards](https://docs.talon.one/management-api#tag/Loyalty-cards/operation/getLoyaltyCards)
        endpoint.
      example: summer-loyalty-card-0543
      required: true
      schema:
        type: string
        maxLength: 108
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            allOf:
              - type: object
                required:
                  - id
                  - created
                properties:
                  id:
                    type: integer
                    description: The internal ID of this entity.
                    example: 6
                  created:
                    type: string
                    format: date-time
                    description: The time this entity was created.
                    example: '2020-06-10T09:05:27.993483Z'
              - type: object
                required:
                  - programID
                properties:
                  programID:
                    type: integer
                    description: The ID of the loyalty program that owns this entity.
                    example: 125
                  programName:
                    type: string
                    description: >-
                      The integration name of the loyalty program that owns this
                      entity.
                    example: Loyalty_program
                  programTitle:
                    type: string
                    description: >-
                      The Campaign Manager-displayed name of the loyalty program
                      that owns this entity.
                    example: Loyalty program
              - type: object
                required:
                  - status
                properties:
                  status:
                    type: string
                    description: |
                      Status of the loyalty card. Can be `active` or `inactive`.
                    example: active
                  blockReason:
                    type: string
                    description: |
                      Reason for transferring and blocking the loyalty card.
                    example: Current card lost. Customer needs a new card.
              - type: object
                required:
                  - identifier
                  - usersPerCardLimit
                properties:
                  identifier:
                    type: string
                    description: |
                      The alphanumeric identifier of the loyalty card.
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                    example: summer-loyalty-card-0543
                  usersPerCardLimit:
                    type: integer
                    minimum: 0
                    example: 111
                    description: >
                      The max amount of customer profiles that can be linked to
                      the card. 0 means unlimited.
                  profiles:
                    type: array
                    description: >-
                      Integration IDs of the customers profiles linked to the
                      card.
                    items:
                      type: object
                      required:
                        - integrationId
                        - timestamp
                      properties:
                        integrationId:
                          type: string
                          maxLength: 1000
                          description: >-
                            Integration ID of the customer profile linked to the
                            card.
                          example: R195412
                        timestamp:
                          type: string
                          format: date-time
                          description: >-
                            Timestamp the customer profile was linked to the
                            card.
                          example: '2021-09-12T10:12:42Z'
                  ledger:
                    description: >-
                      Displays point balances of the card in the main ledger of
                      the loyalty program.
                    allOf:
                      - type: object
                        required:
                          - currentBalance
                          - pendingBalance
                          - expiredBalance
                          - spentBalance
                          - tentativeCurrentBalance
                        description: The balance in a Loyalty Program for some Customer.
                        properties:
                          currentBalance:
                            type: number
                            title: Current balance
                            description: Sum of currently active points.
                            example: 100
                          pendingBalance:
                            type: number
                            title: Pending balance
                            description: Sum of pending points.
                            example: 10
                          negativeBalance:
                            type: number
                            title: Negative balance
                            description: >-
                              Sum of negative points. This implies that
                              `currentBalance` is `0`.
                            example: 10
                          expiredBalance:
                            type: number
                            title: Expired balance
                            description: |
                              **DEPRECATED** Value is shown as 0.
                            example: 0
                          spentBalance:
                            type: number
                            title: Spent balance
                            description: |
                              **DEPRECATED** Value is shown as 0.
                            example: 0
                          tentativeCurrentBalance:
                            type: number
                            title: Tentative current balance
                            description: >
                              The tentative points balance, reflecting the
                              `currentBalance` and all point additions and
                              deductions within the current open customer
                              session. When the session is closed, the effects
                              are applied and the `currentBalance` is updated to
                              this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 100
                          tentativePendingBalance:
                            type: number
                            title: Tentative pending balance
                            description: >
                              The tentative points balance, reflecting the
                              `pendingBalance` and all point additions with a
                              future activation date within the current open
                              customer session. When the session is closed, the
                              effects are applied and the `pendingBalance` is
                              updated to this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 20
                          tentativeNegativeBalance:
                            type: number
                            title: Tentative negative balance
                            description: >
                              The tentative negative balance after all additions
                              and deductions from the current customer session
                              are applied to `negativeBalance`. When the session
                              is closed, the tentative effects are applied and
                              `negativeBalance` is updated to this value.


                              **Note:** Tentative balances are specific to the
                              current session and do not take into account other
                              open sessions for the given customer.
                            example: 100
                      - type: object
                        properties:
                          currentTier:
                            description: Tier for which the ledger is eligible.
                            example: bronze
                            type: object
                            required:
                              - id
                              - name
                            properties:
                              id:
                                type: integer
                                description: The internal ID of the tier.
                                example: 11
                              name:
                                type: string
                                description: The name of the tier.
                                example: bronze
                              startDate:
                                type: string
                                format: date-time
                                description: >-
                                  Date and time when the customer moved to this
                                  tier. This value uses the loyalty program's
                                  time zone setting.
                                example: 2021-05-03T12:32:00Z07:00
                              expiryDate:
                                type: string
                                format: date-time
                                description: >-
                                  Date when tier level expires in the RFC3339
                                  format (in the Loyalty Program's timezone).
                                example: 2022-08-02T15:04:05Z07:00
                              downgradePolicy:
                                type: string
                                enum:
                                  - one_down
                                  - balance_based
                                description: >
                                  The policy that defines how customer tiers are
                                  downgraded in the loyalty program after tier
                                  reevaluation.
                                   - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
                                   - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
                          pointsToNextTier:
                            type: number
                            description: Points required to move up a tier.
                            example: 20
                  subledgers:
                    type: object
                    description: >-
                      Displays point balances of the card in the subledgers of
                      the loyalty program.
                    additionalProperties:
                      allOf:
                        - type: object
                          required:
                            - currentBalance
                            - pendingBalance
                            - expiredBalance
                            - spentBalance
                            - tentativeCurrentBalance
                          description: The balance in a Loyalty Program for some Customer.
                          properties:
                            currentBalance:
                              type: number
                              title: Current balance
                              description: Sum of currently active points.
                              example: 100
                            pendingBalance:
                              type: number
                              title: Pending balance
                              description: Sum of pending points.
                              example: 10
                            negativeBalance:
                              type: number
                              title: Negative balance
                              description: >-
                                Sum of negative points. This implies that
                                `currentBalance` is `0`.
                              example: 10
                            expiredBalance:
                              type: number
                              title: Expired balance
                              description: |
                                **DEPRECATED** Value is shown as 0.
                              example: 0
                            spentBalance:
                              type: number
                              title: Spent balance
                              description: |
                                **DEPRECATED** Value is shown as 0.
                              example: 0
                            tentativeCurrentBalance:
                              type: number
                              title: Tentative current balance
                              description: >
                                The tentative points balance, reflecting the
                                `currentBalance` and all point additions and
                                deductions within the current open customer
                                session. When the session is closed, the effects
                                are applied and the `currentBalance` is updated
                                to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 100
                            tentativePendingBalance:
                              type: number
                              title: Tentative pending balance
                              description: >
                                The tentative points balance, reflecting the
                                `pendingBalance` and all point additions with a
                                future activation date within the current open
                                customer session. When the session is closed,
                                the effects are applied and the `pendingBalance`
                                is updated to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 20
                            tentativeNegativeBalance:
                              type: number
                              title: Tentative negative balance
                              description: >
                                The tentative negative balance after all
                                additions and deductions from the current
                                customer session are applied to
                                `negativeBalance`. When the session is closed,
                                the tentative effects are applied and
                                `negativeBalance` is updated to this value.


                                **Note:** Tentative balances are specific to the
                                current session and do not take into account
                                other open sessions for the given customer.
                              example: 100
                        - type: object
                          properties:
                            currentTier:
                              description: Tier for which the ledger is eligible.
                              example: bronze
                              type: object
                              required:
                                - id
                                - name
                              properties:
                                id:
                                  type: integer
                                  description: The internal ID of the tier.
                                  example: 11
                                name:
                                  type: string
                                  description: The name of the tier.
                                  example: bronze
                                startDate:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Date and time when the customer moved to
                                    this tier. This value uses the loyalty
                                    program's time zone setting.
                                  example: 2021-05-03T12:32:00Z07:00
                                expiryDate:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Date when tier level expires in the RFC3339
                                    format (in the Loyalty Program's timezone).
                                  example: 2022-08-02T15:04:05Z07:00
                                downgradePolicy:
                                  type: string
                                  enum:
                                    - one_down
                                    - balance_based
                                  description: >
                                    The policy that defines how customer tiers
                                    are downgraded in the loyalty program after
                                    tier reevaluation.
                                     - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
                                     - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
                            pointsToNextTier:
                              type: number
                              description: Points required to move up a tier.
                              example: 20
                  modified:
                    type: string
                    format: date-time
                    description: Timestamp of the most recent update of the loyalty card.
                    example: '2021-09-12T10:12:42Z'
                  oldCardIdentifier:
                    description: >-
                      The identifier of the card from which the points were
                      transferred.
                    example: summer-loyalty-card-0543
                    type: string
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                  newCardIdentifier:
                    description: >-
                      The identifier of the card to which the points were
                      transferred.
                    example: autumn-loyalty-card-5822
                    type: string
                    maxLength: 108
                    pattern: ^[A-Za-z0-9_-]*$
                  batchId:
                    description: The ID of the batch in which the loyalty card was created.
                    type: string
                    example: wdefpov
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '404':
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
