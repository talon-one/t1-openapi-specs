# path: /v1/customer_profiles/{integrationId}/achievements/{achievementId}
get:
  operationId: getCustomerAchievementHistory
  summary: List customer's achievement history
  description: |
    Retrieve all progress history of a given customer in the given achievement.
  security:
    - api_key_v1: []
  tags:
    - Achievements
  parameters:
    - in: path
      required: true
      name: integrationId
      description: >
        The integration identifier for this customer profile. Must be:

        - Unique within the deployment.

        - Stable for the customer. Do not use an ID that the customer can update
        themselves. For example, you can use a database ID.


        Once set, you cannot update this identifier.
      example: customer1
      schema:
        type: string
    - in: path
      required: true
      name: achievementId
      description: |
        The achievement identifier.
      example: 321
      schema:
        type: integer
    - name: progressStatus
      in: query
      required: false
      description: |
        Filter by customer progress status in the achievement.
      style: form
      explode: false
      schema:
        type: array
        items:
          type: string
          enum:
            - inprogress
            - completed
            - expired
      example:
        - inprogress
        - completed
    - name: startDate
      description: >-
        Timestamp that filters the results to only contain achievements created
        on or after the start date.
      in: query
      example: '2024-05-29T15:04:05+07:00'
      schema:
        type: string
        format: date-time
    - name: endDate
      description: >-
        Timestamp that filters the results to only contain achievements created
        before or on the end date.
      in: query
      example: '2024-05-29T15:04:05+07:00'
      schema:
        type: string
        format: date-time
    - name: pageSize
      in: query
      required: false
      description: The number of items in the response.
      example: 1000
      schema:
        type: integer
        minimum: 1
        maximum: 1000
        default: 1000
    - name: skip
      in: query
      required: false
      description: The number of items to skip when paging through large result sets.
      example: 100
      schema:
        type: integer
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            type: object
            required:
              - totalResultSize
              - data
            properties:
              totalResultSize:
                type: integer
                example: 1
              data:
                type: array
                items:
                  type: object
                  description: The current progress of the customer in the achievement.
                  required:
                    - status
                    - progress
                  properties:
                    status:
                      type: string
                      enum:
                        - inprogress
                        - completed
                        - expired
                        - not_started
                      example: completed
                      description: The status of the achievement.
                    progress:
                      type: number
                      example: 10
                      description: The current progress of the customer in the achievement.
                    startDate:
                      format: date-time
                      description: Timestamp at which the customer started the achievement.
                      type: string
                      example: 2024-01-01T15:04:05Z07:00
                    completionDate:
                      format: date-time
                      description: >-
                        Timestamp at which point the customer completed the
                        achievement.
                      type: string
                      example: 2024-01-15T15:04:05Z07:00
                    endDate:
                      format: date-time
                      description: >-
                        Timestamp at which point the achievement ends and resets
                        for the customer.
                      type: string
                      example: 2024-02-01T15:04:05Z07:00
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
    '404':
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
              errors:
                type: array
                description: >-
                  An array of individual problems encountered during the
                  request.
                items:
                  type: object
                  required:
                    - source
                    - title
                  properties:
                    title:
                      type: string
                      description: Short description of the problem.
                    details:
                      type: string
                      description: >-
                        Longer description of this specific instance of the
                        problem.
                    source:
                      type: object
                      description: >
                        The source of the current error, exactly one of
                        `pointer`, `parameter` or `line` will be defined.
                      properties:
                        pointer:
                          type: string
                          description: >-
                            Pointer to the path in the payload that caused this
                            error.
                        parameter:
                          type: string
                          description: Query parameter that caused this error.
                        line:
                          type: string
                          description: >-
                            Line number in uploaded multipart file that caused
                            this error. 'N/A' if unknown.
                        resource:
                          type: string
                          description: Pointer to the resource that caused this error.
              StatusCode:
                type: integer
                description: The error code
