post:
  operationId: cardAddedDeductedPointsNotification
  summary: Added or deducted points
  tags:
    - Loyalty card notifications
  requestBody:
    description: >-
      The
      [notification](/docs/product/loyalty-programs/loyalty-notifications/overview)
      informing users when loyalty points are added or deducted.
    content:
      application/json:
        schema:
          type: object
          properties:
            ProfileIntegrationIDs:
              type: array
              description: >-
                The integration ID of the customer profile to whom points were
                added or deducted.
              items:
                type: string
              example:
                - yJSObdNNtOetCHWHPFuz
                - test-user-4zoj1c
            LoyaltyProgramID:
              type: integer
              description: The ID of the loyalty program.
              minimum: 1
              example: 5
            SubledgerID:
              type: string
              description: >-
                The ID of the subledger within the loyalty program where these
                points were added or deducted.
              example: sub-123
            Amount:
              type: number
              description: The amount of added or deducted loyalty points.
              example: 10.99
            Reason:
              type: string
              description: The reason for the points addition or deduction.
              example: Compensation
            TypeOfChange:
              type: string
              enum:
                - campaign_manager
                - rule_engine
                - management_api
              description: >
                The notification source, that is, it indicates

                whether the points were added or deducted via one of the
                following routes:


                - [The Campaign Manager](/docs/product/getting-started)


                - [Management API](/management-api#tag/Loyalty)


                - [Rule
                Engine](/docs/product/applications/evaluation-order-for-rules-and-filters)
            EmployeeName:
              type: string
              description: The name of the employee who added or deducted points.
              example: Franziska Schneider
            UserID:
              type: integer
              description: The ID of the employee who added or deducted points.
              minimum: 1
              example: 25
            Operation:
              type: string
              description: The action (addition or deduction) made with loyalty points.
              enum:
                - addition
                - deduction
            StartDate:
              type: string
              format: date-time
              description: The start date for loyalty points.
              example: '2023-01-24T14:15:22Z'
            ExpiryDate:
              type: string
              format: date-time
              description: The expiration date for loyalty points.
              example: '2024-01-24T14:15:22Z'
            SessionIntegrationID:
              type: string
              description: >-
                The integration ID of the session through which the points were
                earned or lost.
              example: cc53e4fa-547f-4f5e-8333-76e05c381f67
            NotificationType:
              type: string
              description: The type of notification.
              enum:
                - LoyaltyCardPointsDeducted
                - LoyaltyCardPointsAdded
            CardIdentifier:
              type: string
              description: Loyalty card identification number.
              example: 123-456-789ATBC
            UsersPerCardLimit:
              type: integer
              description: >-
                The max amount of user profiles with whom a card can be shared.
                This can be set to `0` for no limit.
              example: 10
    required: true
